2005-02-25  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/MTW_View.cxx:
	Top-bar in class-view now accepts paste events and dnd: the pasted
	lens is appended to the end of the list.

2005-02-23  Matevz Tadel  <matevz.tadel@ijs.si>

	* Glasses/ShellInfo.cxx:
	* Glasses/ShellInfo.h:
	Added members bCollZGlass and bCollZList controlling inital
	collapse state of ZGlass and ZList sub-views.

	* Eye/MTW_View.cxx:
	Added top-bar for class-view (provides drag-out and right-mouse
	context menu); honour collapse status for ZGlass/ZLink as set in
	ShellInfo.

2005-02-20  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW.cxx:
	Bugfix in Source_Selector generate_MIR.

	* Eye/FltkGledStuff.cxx:
	* Eye/FltkGledStuff.h:
	Added Clear method and a menu callback to invoke it.

	* Eye/MTW_View.cxx:
	Bugfix in BuildVerticalView: mShell undefined for stand-alone
	lenses (segv during query for fancy/showdefaults setting).

	* Eye/Pupil.cxx:
	Moved delarations of picking menu to inner scope.

	* Glasses/ShellInfo.cxx:
	bShowLinksInClassView true by default.

2005-02-18  Matevz Tadel  <matevz.tadel@ijs.si>

	* Glasses/ShellInfo.cxx:
	* Glasses/ShellInfo.h:
	Added members bFancyClassView and bShowLinksInClassView.

	* Eye/MTW_SubView.cxx:
	* Eye/MTW_SubView.h:
	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	Added class titles with collapsors to class-view; its general
	layout is now guided by ShellInfo members.

	* Eye/Pupil.cxx:
	Pupil now raises-on-click.

2005-02-16  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	SpawnMTW_View has been extended to allow caller to specify window
	position.

	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	Bugfix: before deleting mWindow should unregister self from it.

	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	Left double-click now spawns class-view for clicked object
	(pick-menu not shown) with position calculated as specified in
	PupilInfo::mPopup* variables. 

2005-02-16  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Leaf.cxx:
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	* Eye/FltkGledStuff.cxx:
	* Eye/FltkGledStuff.h:
	* Eye/MCW_View.cxx:
	* Eye/MCW_View.h:
	* Eye/MTW_SubView.cxx:
	* Eye/MTW_SubView.h:
	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	MTW_View and supporting infrastructure updated to allow mixing of
	data members and links. Eventually should furhter extend the code
	to also allow reuse of FTW_Ants within a FTW_Leaf (and thus
	support link collapse/expand in FTW_Nest).

	* Eye/OptoStructs.cxx:
	* Eye/OptoStructs.h:
	ZGlassImg::fFullMTW_View now a pointer to MTW_View; no need to
	delete it anymore.

	* Eye/MTW_Layout.cxx:
	Fixed compilation warning.

	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	CameraView creation changed in accordance with MTW_View changes.

	* GledView/GledViewNS.h:
	Added 'bool WeedInfo::bIsLinkWeed'.

	* perllib/GLED_Widgets.pm:
	Added weed-class 'Link'.

	* Glasses/ZList.h:
	Added 'X{Ed}' pragma for RemoveLensesViaQueen().

2005-02-13  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	Moved FTW_Nest::RemoveTransients to FTW_Shell::RemoveMTW_Views;
	added a set of Images with opened MTW_Views to FTW_Shell. Now
	remove transients from Nest's menu really erases ALL transients.

2005-02-12  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	* Glasses/Text.cxx:
	* Glasses/Text.h:
	* Glasses/ZRlFont.cxx:
	* Glasses/ZRlFont.h:
	* Glasses/ZRlNameRnrCtrl.cxx:
	* Glasses/ZRlNameRnrCtrl.h:
	* GledView/GLTextNS.cxx:
	* GledView/GLTextNS.h:
	* Rnr/GL/PupilInfo_GL_Rnr.cxx:
	* Rnr/GL/PupilInfo_GL_Rnr.h:
	* Rnr/GL/Text_GL_Rnr.cxx:
	* Rnr/GL/ZNode_GL_Rnr.cxx:
	* Rnr/GL/ZRlFont_GL_Rnr.cxx:
	* Rnr/GL/ZRlFont_GL_Rnr.h:
	* Rnr/GL/ZRlNameRnrCtrl_GL_Rnr.cxx:
	* Rnr/GL/ZRlNameRnrCtrl_GL_Rnr.h:
	* RnrBase/RnrDriver.cxx:
	* RnrBase/RnrDriver.h:
	GL-text rendering now uses RnrDriver::RnrMod infrastructure. All
	text and tile properties have been removed from PupilInfo and
	RnrDriver.

	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	Added methods ReTriangulate() and RebuildRnrScheme().

	* Rnr/GL/ZGlass_GL_Rnr.cxx:
	Render() method now empty.

	* Gled/GledTypes.h:
	Added method FID_t::clear().

2005-02-10  Matevz Tadel  <matevz.tadel@ijs.si>

	A_Rnr was made a sub-class of A_View. Now renderes produce their
	own RnrSchemes (the default method in A_Rnr still does what
	RnrDriver did before) and have direct access to the Eye, which
	simplifies storage of, and access to, default lens renderers. As
	all A_Views, A_Rnrs now receive Rays and can update their own
	RnrSchemes when appropriate.
	
	This allows for purer (and much more powerfull) implementation of
	rendering process.

	* Eye/OptoStructs.cxx:
	* Eye/OptoStructs.h:
	Major clean-up: restructuring of rendering support.

	A_GlassView, ZGlassView and ZListView classes have been removed:
	they were only used by RnrDriver to obtain default
	renderers. Before i was hoping to provide per-pupil customization
	of rendering process via A_GlassView descendants. Now this can be
	achieved by extension of RnrDriver (hopefully).

	Extended ZLinkDatum to hold fToGlass and fToImg. ZLinkView has
	been retained as a base-class for cases where update of
	link-related data is expensive (used by FTW_Ant).

	A_View now automatically checks itself in/out of
	ZGlassImg; SetImg() is provided for cases when one wants to change
	the observed lens (used by some widgets).

	ZGlassImg: removed link-views and default view, added
	default-rnr. Also added methods Pre/PostAbsorption(Ray&) which are
	called by the Eye and can be used to prepare and cache additional
	ray-processing data that is eye-local.

	* Eye/Eye.cxx:
	* Eye/Eye.h:
	Rnr invalidation now done by rnrs themselves; each ray is also
	delivered to lens-image (to update link/list representation).

	* Eye/FTW.cxx:
	* Eye/FTW.h:
	Removed check-ins/outs for A_Views; use A_View::SetImg(). Fixed a
	bug in display of status line during drag-n-drop.

	* Eye/FTW_Ant.cxx:
	* Eye/FTW_Ant.h:
	* Eye/FTW_Branch.cxx:
	* Eye/FTW_Branch.h:
	* Eye/FTW_Leaf.cxx:
	* Eye/FTW_Leaf.h:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Shell.cxx:
	* Eye/FltkGledStuff.cxx:
	* Eye/FltkGledStuff.h:
	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Reflecting changes in optical systems.

	* RnrBase/RnrScheme.cxx:
	* RnrBase/RnrScheme.h:
	Removed file: code moved to A_Rnr.

	* RnrBase/A_Rnr.cxx:
	* RnrBase/A_Rnr.h:
	A_Rnr now subclasses A_View (and can thus absorb rays); RnrScheme
	creatiion is now steered by a virtual method
	A_Rnr::CreateRnrScheme. Implementation of RnrScheme has been moved
	here.

	* RnrBase/RnrDriver.cxx:
	* RnrBase/RnrDriver.h:
	Creation of RnrScheme is now the task of A_Rnr (RnrDriver still
	provides lens/image to rnr demangling (or instantiation) and some
	service methods for filling RnrSchemes); implemented RnrMod stacks
	hashed by FID_t: these allow low-level renderers to set-up and
	retrieve configuration data via TObject*.

	* Gled/GledTypes.h:
	Added hash function for FID_t, made some FID_t methods const.

	* GledView/GledViewNS.h:
	Simplification of RnrCtrl: removed bRnrSelf and bRnrLinks.

	* Glasses/ZNode.cxx:
	* Glasses/ZNode.h:
	Added link mRnrMod and flags for control of self/element
	rendering (bRnrSelf, bRnrElements, bModSelf, bModElements). Added
	templated method GrepParentByGlass.

	* Glasses/ZRnrModList.cxx:
	* Glasses/ZRnrModList.h:
	* Rnr/GL/ZRnrModList_GL_Rnr.cxx:
	* Rnr/GL/ZRnrModList_GL_Rnr.h:
	New glass: on Pre/PostDraw calls Pre/PostDraw of all
	elements. Needed for setting up several modificators to a ZNode.

	* glass.list:
	New entry for ZRnrModList; ZNodeLink uses own rnr.

	* Rnr/GL/ZNodeLink_GL_Rnr.cxx:
	* Rnr/GL/ZNodeLink_GL_Rnr.h:
	* Rnr/GL/ZNode_GL_Rnr.cxx:
	* Rnr/GL/ZNode_GL_Rnr.h:
	Override A_Rnr::CreateRnrScheme to produce configurable rendering.
	
	* Rnr/GL/GlobalLamps_GL_Rnr.cxx:
	* Rnr/GL/GlobalLamps_GL_Rnr.h:
	* Rnr/GL/LampLink_GL_Rnr.cxx:
	* Rnr/GL/LampLink_GL_Rnr.h:
	Use RnrDriver to obtain Lamp renderers.

	* Glasses/Scene.cxx:
	* Glasses/Scene.h:
	Removed mRnrMods link: now available from ZNode.

	* Net/Ray.h:
	Added quantum numbers RQN_list_begin and RQN_list_end to
	facilitate handling of list changes in A_Views.

	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	Stamp() optionally takes eye_bits to be set to ray. Removed
	RnrCtrl pragma.

	* Glasses/AList.h:
	* Glasses/Box.h:
	* Glasses/Camera.h:
	* Glasses/EyeInfo.h:
	* Glasses/GledMonitor.h:
	* Glasses/GlobalLamps.h:
	* Glasses/Lamp.h:
	* Glasses/LampLink.h:
	* Glasses/NestInfo.h:
	* Glasses/PerfMeterOperator.h:
	* Glasses/PerfMeterTarget.h:
	* Glasses/PipeEventor.h:
	* Glasses/PupilInfo.h:
	* Glasses/SaturnInfo.h:
	* Glasses/SaturnObserver.h:
	* Glasses/ScreenDumper.h:
	* Glasses/ScreenText.h:
	* Glasses/ShellInfo.h:
	* Glasses/Sphere.h:
	* Glasses/Text.h:
	* Glasses/ZCometBag.h:
	* Glasses/ZDeque.h:
	* Glasses/ZEunuch.h:
	* Glasses/ZFilterAggregator.h:
	* Glasses/ZFireKing.h:
	* Glasses/ZFireQueen.h:
	* Glasses/ZGlBlending.h:
	* Glasses/ZGlLightModel.h:
	* Glasses/ZGlMaterial.h:
	* Glasses/ZGlStateBase.h:
	* Glasses/ZGod.h:
	* Glasses/ZGroupIdentity.h:
	* Glasses/ZHashList.h:
	* Glasses/ZIdentity.h:
	* Glasses/ZIdentityFilter.h:
	* Glasses/ZIdentityListFilter.h:
	* Glasses/ZKing.h:
	* Glasses/ZList.h:
	* Glasses/ZMEESelfFilter.h:
	* Glasses/ZMethodTagPreFilter.h:
	* Glasses/ZMirEmittingEntity.h:
	* Glasses/ZMirFilter.h:
	* Glasses/ZNameMap.h:
	* Glasses/ZNodeLink.cxx:
	* Glasses/ZNodeLink.h:
	* Glasses/ZQueen.h:
	* Glasses/ZRlFont.h:
	* Glasses/ZRlNameRnrCtrl.h:
	* Glasses/ZSubTree.h:
	* Glasses/ZSunQueen.h:
	Clean-up of RnrCtrl constructors; in most cases they are not
	needed anymore.

2005-02-04  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/MTW_View.cxx:
	Increased width-growth factor for joining widgets to 2.

	* Glasses/Scene.cxx:
	* Glasses/Scene.h:
	Added link to ZList where one can put GL modificators to set
	default rendering style for the scene (calls Pre/Post draw on all
	list members).

	* Glasses/ZGlBlending.cxx:
	* Glasses/ZGlBlending.h:
	Added support for BlendEquation and BlendConstColor.

	* Rnr/GL/ZGlBlending_GL_Rnr.cxx:
	* Rnr/GL/ZGlBlending_GL_Rnr.h:
	* Rnr/GL/ZGlLightModel_GL_Rnr.cxx:
	* Rnr/GL/ZGlLightModel_GL_Rnr.h:
	* Rnr/GL/ZGlMaterial_GL_Rnr.cxx:
	* Rnr/GL/ZGlMaterial_GL_Rnr.h:
	Separated GL-state-setup so that the renderers can also be used as
	state modificators via PreDraw/PostDraw. Appropriate GL attribute
	groups are pushed and popped.

2005-02-01  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Mountain.cxx:
	* Ephra/Mountain.h:
	Write-lock eventor during all all callbacks to Eventor processing
	methods (Operator::Operate is NOT locked). Split WipeThread to two
	functions so OnExit is called when the thread is already
	unregistered from the stage (but eventor write-lock is acquired
	first).

	* Eye/OptoStructs.cxx:
	Bugfix: ZListView::AbsorbRay RQN_list_remove removed ALL
	occurrences of the lens, not just one.

2005-01-29  Matevz Tadel  <matevz.tadel@ijs.si>

	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	RemoveLenses() can be called in synchronous mode.
	Also realized that it can safely run in a detached MIR thread; so
	quite some code went away.

	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	New function RemoveLensesViaQueen(Bool_t recurse=false). Calls
	mQueen->RemoveLenses(this) via a MIR and waits for result report.

2005-01-28  Matevz Tadel  <matevz.tadel@ijs.si>

	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	Rewrite of reverse-reference handling to use hash_map instead of a
	list. When almost done I realized that hash_multiset would be the
	right choice ... well ... next time.
	Method remove_references_to() now returns number of removed refs.
	
	* Glasses/ZHashList.cxx:
	* Glasses/ZHashList.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Glasses/ZNameMap.cxx:
	* Glasses/ZNameMap.h:
	Method remove_references_to() now returns number of removed refs.

	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	Support for (recursive) removal of lists. RemoveLenses(ZGlass* lens)
	spawns a dedicated thread that inspects the directory structure
	and emits flares to collapse complete sub-directories in a single
	method PutListElementsToPurgatory(ZList* list). It's also viewer
	friendly. Removal of 128*1024 ZNodes takes 20sec (with one eye
	connected).

	Lenses with non-zero EyeRefCount are now turned into zombies and
	deleted later.
	
	Made stamping of ID-space changes (number of free/taken IDs) 
	optional (controled by Bool_t bStampIdOps).
	
	* Gled/GledTypes.h:
	Added typedefs for hash_map<ZGlass*, Int_t>.

	* macros/sun.C:
	Increased capacity of default queen Scenes to 256*1024.

	* Ephra/Saturn.cxx:
	* Eye/Eye.cxx:
	Sanitization of messages and debug output.

	* Eye/FTW_Branch.cxx:
	Use Leoim list size for display of ZList size.

2005-01-24  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Branch.cxx:
	Another bug in clear_list handling. Probably wasn't consistent
	previous time.

	* Eye/FltkGledStuff.cxx:
	Only grep for shell when needed; bombed during window destruction.

	* Eye/Pupil.cxx:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	Added custom ray type camera_home; declared all PupilInfo's custom
	ray-types in an enum.

2005-01-24  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Saturn.cxx:
	* Eye/Eye.cxx:
	Minor clean-up.

	* Eye/FTW_Shell.cxx:
	Spawn MCW_View under mouse location.

	* Eye/MCW_View.h:
	Removed mShell, it's available from FTW_Shell_Client.

	* Eye/Pupil.cxx:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	Implemented orthographic projection, added corresponding controls.

	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	Added missing call to ZComet::AssignQueen in AdoptComet; lens
	removal uses main MIR execution thread again. There were problems
	on non-nptl kernels when spawning a bit more threads (~300 did the
	job).

	* Stones/ZComet.cxx:
	Changed default value of bWarnOn and bVerbose to false; clean-up
	of reporting.

	* macros/sun.C:
	Increased default size of queen Scenes to 128*1024.

2005-01-21  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/Eye.cxx:
	* Eye/FTW.cxx:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	* Eye/FltkGledStuff.cxx:
	* Eye/FltkGledStuff.h:
	* Eye/MCW_View.cxx:
	* Eye/MCW_View.h:
	* Eye/OptoStructs.cxx:
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Added class FTW_Shell_Client for consistent access to parent shell.

2005-01-21  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Branch.cxx:
	* Glasses/ZHashList.cxx:
	* Glasses/ZHashList.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Glasses/ZNameMap.h:
	Implemented ZList::SortByName(). 

2005-01-19  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Saturn.h:
	* Eye/Eye.h:
	* Eye/FTW_Ant.h:
	* Eye/FTW_Leaf.h:
	* Eye/FTW_Nest.h:
	* Eye/MCW_View.h:
	* Eye/MTW_Layout.h:
	* Eye/Pupil.h:
	* Glasses/Eventor.h:
	* Glasses/EyeInfo.h:
	* Glasses/LampLink.h:
	* Glasses/NestInfo.h:
	* Glasses/PerfMeterOperator.h:
	* Glasses/PupilInfo.h:
	* Glasses/SaturnInfo.h:
	* Glasses/SaturnObserver.h:
	* Glasses/Scene.h:
	* Glasses/ScreenDumper.h:
	* Glasses/ShellInfo.h:
	* Glasses/Text.h:
	* Glasses/ZEunuch.h:
	* Glasses/ZFilterAggregator.h:
	* Glasses/ZFireQueen.h:
	* Glasses/ZGlass.h:
	* Glasses/ZIdentity.h:
	* Glasses/ZIdentityFilter.h:
	* Glasses/ZIdentityListFilter.h:
	* Glasses/ZKing.h:
	* Glasses/ZMethodTagPreFilter.h:
	* Glasses/ZMirEmittingEntity.h:
	* Glasses/ZNodeLink.h:
	* Glasses/ZQueen.h:
	* Glasses/ZSubTree.h:
	* Glasses/ZSunQueen.h:
	* Gled/GThread.h:
	* Gled/Gled.h:
	* GledView/GledGUI.h:
	* RnrBase/RnrDriver.h:
	* Stones/ZComet.h:
	* Stones/ZHisto.cxx:
	* Stones/ZHisto.h:
	* Stones/ZHistoDir.cxx:
	* Stones/ZHistoDir.h:
	Const-correctness changes (project7 now properly generates const
	Get methods).

2005-01-19  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW.cxx:
	* Eye/FTW.h:
	* Eye/FltkGledStuff.cxx:
	New Source selector Direct, now used for dnd; middle mouse now
	pastes shell's source (can be used as a complement to dnd).

	* Eye/FTW_Branch.cxx:
	Fixed buggy logick for adding new elements w/ respect to Collapse
	status.
	
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	New method X_SetSource(ID_t) to support use of Direct lens Source.

	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Complete rewrite of camera positioning.
	Some new features in ick menu: Camera JumpTowards and JumpAt,
	SetAsSource (set shell's direct source).

	* Glasses/Camera.cxx:
	* Glasses/Camera.h:
	Home didn't call Stamp.

	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	Added members mLookAtMinDist and mUpRefMinAngle to provide better
	control over camera behaviour.

	* Net/Ray.h:
	User ray quantum numbers now easier to address.

	* Stones/ZTrans.cxx:
	* Stones/ZTrans.h:
	New method UnitTrans() to reset the transformation to identity.

2005-01-14  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/MTW_Layout.cxx:
	* Eye/MTW_SubView.cxx:
	* Eye/MTW_View.cxx:
	* Eye/Pupil.cxx:
	* GledView/GLTextNS.cxx:
	Replaced all accurances of >? and <? with TMath::Max/Min.

2005-01-10  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Saturn.cxx:
	Consistent messages during MEE connection/disconnection.
	
	* Glasses/AList.h:
	Fully-quantified ClassDef(AList::ElRep); html-doc generators had
	some trouble otherwise.
	
	* Gled/Gled.h:
	* GledView/GledGUI.h:
	* macros/eye.C:
	eye.C exits immediately if Gled::theOne->HasGUILibs() is false
	(HasGUILibs being a new virtual method in Gled).

	* macros/moon.C:
	A cast to ZQueen was missing.

	* Makefile:
	Reintroduced -I/usr/kerberos/include to CPPFLAGS.

2004-12-24  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Branch.cxx:
	Usage of bLeavesCreated was not consistent. For expanded branches:
	after clear_list new ftw_leaves were not created.
	
	* Eye/FTW_Shell.cxx:
	Consolidation of menu-fillers.
	
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Menu consolidation, new method JumpTo (also a menu entry) and
	improved mouse precision specification.

	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	Support for improved mouse precision specification.

	* Glasses/ZQueen.cxx:
	In RemoveLens: if lens is already being removed warn instead of
	throwing an exception.

2004-12-21  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Changed default z-value from 0 to 1e-3. 0 didn't render anything on
	some GLs.
	
	* Glasses/ScreenText.cxx:
	* Glasses/ScreenText.h:
	* Rnr/GL/ScreenText_GL_Rnr.cxx:
	* Rnr/GL/ScreenText_GL_Rnr.h:
	New glass ScreenText. Allows text placement in window coordinates.
	
	* glass.list:
	New glass ScreenText.
	
2004-12-17  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/Eye.cxx:
	* Eye/FTW_Shell.cxx:
	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	* Eye/OptoStructs.cxx:
	* Eye/Pupil.cxx:
	* Glasses/Box.cxx:
	* Glasses/Eventor.cxx:
	* Glasses/NestInfo.cxx:
	* Glasses/PerfMeterTarget.cxx:
	* Glasses/PupilInfo.cxx:
	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	* Glasses/ZList.cxx:
	* Glasses/ZNode.cxx:
	* Glasses/ZNode.h:
	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	* Glasses/ZSunQueen.cxx:
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:
	* Gled/GledTypes.h:
	* GledView/GledViewNS.cxx:
	* GledView/GledViewNS.h:
	* Net/Ray.cxx:
	* Net/Ray.h:
	* Stones/ZComet.cxx:
	* catalog.patch:
	Restructuring and clean-up of GlassInfo structures. FID_t now
	used consistently in most of the code. Glasses offer direct access
	to GledNS::ClassInfo structure. LinkSpec has been replaced by
	ZGlass::LinkRep structure that contains a reference to the link and
	a pointer to GledNS::LinkMemberInfo.
	
2004-12-13  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Menus created by FTW_Shell are now also usable for external consumers;
	picking in Pupil has been modified to use this functionality.
	
2004-12-12  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Saturn.cxx:
	Improved logging of shutdown process.
	
	* Gled/Gled.cxx:
	* Gled/Gled.h:
	* GledView/GledGUI.cxx:
	* GledView/GledGUI.h:
	* gled.cxx:
	* saturn.cxx:
	Support logging and output to files; new command line options.
	See gledimp or 'gled --help' for details.
	
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:
	* Eye/FTW_Shell.cxx:
	From Alja : modularize FTW_Nest construction to allow for state
	slurping from NestInfo.
	
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	From Alja: sort pick hits by depth; different display modes.
	Also removed some obsolete code.
	
	* Glasses/NestInfo.cxx:
	* Glasses/NestInfo.h:
	From Alja: added layout specifications members to allow a FTW_Nest
	to be spawned with a specified custom layout.
		
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	From Alja: added picking display modes, substituted PickW and
	PickH with PickR(adius).

	* Glasses/PerfMeterOperator.cxx:
	Added protection against undefined mBeamHost in send_beam_or_flare().

	* Gled/GThread.cxx:
	* Gled/GThread.h:
	Improved interface for temporary disabling thread cancellation;
	new helper class GThreadKeepAlive.
	
	* GledView/GLTextNS.cxx:
	* GledView/GLTextNS.h:
	New function RnrTextAt(...): render some text in screen
	coordinates. Useful for reporting in full-screen mode.
	
	* GledView/GledViewNS.h:
	Added RnrCtrl(const RnrBits& rb) ctor.
	
	* Rnr/GL/Lamp_GL_Rnr.cxx:
	Fixes for self rendering.
	
	* RnrBase/RnrDriver.h:
	Added ptr export for colors.
	
	* catalog.patch:
	Pragmas for helper classes.

	* GledView/user_init.cxx:
	Removed registration of custom MTW layouts.
	
	* macros/eye.C:
	* macros/moon.C:
	* macros/sun.C:
	Exported declarations of some variables, consolidation.
	
	* perllib/GLED_Widgets.pm:
	Added FL_WHEN_ENTER_KEY to when() of Textor, tooltip for Filor.
	
	* Eye/Eye.cxx:
	* Eye/Eye.h:
	* Eye/MCW_View.cxx:
	* Eye/OptoStructs.h:
	Clean-up of includes.
	
	* Stones/ZColor.h:
	Const-correctness changes.
	
	* Gled/GledNS.h:
	Formatting changes.
	
2004-11-30  Matevz Tadel  <matevz.tadel@ijs.si>

	==================================================
	Check-in of major changes from 1.2.3 towards 1.2.4
	==================================================

	Changes that influence several groups of files:
	===============================================
	
	[RD7] RnrDriver now uses exactly 7 rnr levels
	---------------------------------------------
	This allowed for a simplification in declaration of RnrCtrl in a
	glass header. Most glasses are affected by this; the files with
	*only* this change are not listed in in this entry.

	[AbsorbRay] New method of Ray delivery via A_View::AbsorbRay(Ray&)
	------------------------------------------------------------------
	Affects most View classes. Offers a more flexible way of Ray
	delivery and allows for a cleanar interface on the Eye side.

	[FTW2FGS] Migration of some code from FTW to FltkGledStuff namespace
	--------------------------------------------------------------------
	Functions to measure label widths and grep for parents have been
	taken out from FTW namespace. Originally FTW was meant as
	collection of widgets needed for FTW_* classes.
	
	Changes by file:
	================
	
	* Ephra/Saturn.cxx:
	* Ephra/Saturn.h:
	Saturn now supports detached MIR execution. Reworked all MIR
	entry points to use auto_ptr. Some minor improvements in MIR and
	Ray handling.

	* Net/Ray.cxx:
	* Net/Ray.h:
	Preparations for new AList implementation, addition of custom
	buffers and user_rays.

	* Eye/Eye.cxx:
	* Eye/Eye.h:
	[AbsorbRay], new method of Message/Error delivery, forced exit
	from Manage loop and a fix in Image removal.
	
	* Eye/FTW.cxx:
	* Eye/FTW.h:
	[AbsorbRay] + [FTW2FGS].
	
	* Eye/FltkGledStuff.cxx:
	* Eye/FltkGledStuff.h:
	New files; namespace encapsulating gled specific fltk related
	functions [FTW2FGS].

	* Eye/FTW_Branch.cxx:
	* Eye/FTW_Branch.h:
	* Eye/FTW_Leaf.cxx:
	* Eye/FTW_Leaf.h:
	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	* Eye/OptoStructs.cxx:
	* Eye/OptoStructs.h:
	[AbsorbRay].
	
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:
	[AbsorbRay] + [FTW2FGS].
	
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	[AbsorbRay] + handling of MCW widgets.
	
	* Eye/MTW_Layout.cxx:
	[FTW2FGS].
	
	* Eye/MTW_SubView.cxx:
	[FTW2FGS] + fix of width calculation for -join option.
		
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	[AbsorbRay], image dumping and some clean-up.

	* Eye/MCW_View.cxx:
	* Eye/MCW_View.h:
	New files; implementation of MethodCallWidget. Supports context
	arguments and basic types masked via root typedefs.
	
	* Glasses/ScreenDumper.cxx:
	* Glasses/ScreenDumper.h:
	New files; assists dumping of a Pupil to a tga file.

	* Glasses/ZRlFont.cxx:
	* Glasses/ZRlFont.h:
	* Glasses/ZRlNameRnrCtrl.cxx:
	* Glasses/ZRlNameRnrCtrl.h:
	* Rnr/GL/Scene_GL_Rnr.cxx:
	* Rnr/GL/Scene_GL_Rnr.h:
	* Rnr/GL/ZRlFont_GL_Rnr.cxx:
	* Rnr/GL/ZRlFont_GL_Rnr.h:
	* Rnr/GL/ZRlNameRnrCtrl_GL_Rnr.cxx:
	* Rnr/GL/ZRlNameRnrCtrl_GL_Rnr.h:
	* lib/fontdefault.txf:
	* lib/fonthelvetica34.txf:
	New files; preliminary support for multiple GL fonts and
	management of name-tag rendering.

	* Glasses/AList.cxx:
	* Glasses/AList.h:
	* Glasses/ZDeque.cxx:
	* Glasses/ZDeque.h:
	New files; preparation for new container implementation.
	
	* Glasses/Eventor.cxx:
	* Glasses/Eventor.h:
	* Glasses/Operator.h:
	Added Int_t fEventID to Operator::Arg.
	
	* Glasses/EyeInfo.cxx:
	* Glasses/EyeInfo.h:
	[RD7], new mechanism for TextMessage delivery to Eyes.
	
	* Glasses/Lamp.cxx:
	* Glasses/Lamp.h:
	[RD7], new defaults for Diffuse (white) and Specular (grey20).
	
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	[RD7], new members controlling width/height of the window, rendering of
	name tags methods for emission of Rays triggering image dumps.
	
	* Glasses/Text.cxx:
	* Glasses/Text.h:
	New members: link to ZRlFont, bCenter; [RD7].
	
	* Glasses/ZCometBag.cxx:
	* Glasses/ZCometBag.h:
	[RD7], attempt at an interface to specify root file and internal
	path.

	* Glasses/ZFireQueen.cxx:
	* Glasses/ZFireQueen.h:
	Implemented virtual DemangleID(ID_t) without dependency check (as
	proper to FireQueen) to allow ZComet unstreaming.
	
	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	ZMIR* now in GThread TSD, clearer naming for ZGlass::Rebuild*
	methods, Ray emission more flexible.
	
	* Glasses/ZHashList.cxx:
	* Glasses/ZHashList.h:
	Clearer naming for ZGlass::Rebuild* methods, implementation of virtual
	After/Before methods.
	
	* Glasses/ZKing.cxx:
	* Glasses/ZKing.h:
	MIR passing via auto_ptr.
	
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	Clearer naming for ZGlass::Rebuild* methods, Ray emission more flexible.
	
	* Glasses/ZNameMap.cxx:
	* Glasses/ZNameMap.h:
	Clearer naming for ZGlass::Rebuild* methods.
	
	* Glasses/ZNode.cxx:
	* Glasses/ZNode.h:
	Order-of-magintude implementation, better methods to traverse
	parental hierarchy; [RD7].
	
	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	Improvement of lens deletion, Ray emission control, ZComet
	adoption; [RD7].

	* Glasses/ZSunQueen.cxx:
	* Glasses/ZSunQueen.h:
	MIR passing via auto_ptr, [RD7].
	
	* Stones/SEvTaskState.cxx:
	* Stones/SEvTaskState.h:
	* Rnr/GL/SEvTaskState_GL_Rnr.cxx:
	* Rnr/GL/SEvTaskState_GL_Rnr.h:
	New files; representation of a task composed from several
	events to be processed.
	
	* Gled/MIR_Priest.h:
	New file; abstract base for ZQueen and ZKing.
	
	* Gled/GMutex.cxx:
	* Gled/GMutex.h:
	New classes GLensReadHolder and GLensWriteHolder.
	
	* Gled/GThread.cxx:
	* Gled/GThread.h:
	GThread now stores ZMIR as TSD. ReturnAddress and ReturnHandle not
	needed anymore.

	* Gled/GTime.cxx:
	* Gled/GTime.h:
	Systematization of operator+=, added Sleep methods.

	* Ephra/Mountain.cxx:
	Follow-ups to GTime changes.
	
	* Gled/GledMirDefs.h:
	MIR passing via auto_ptr.
	
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:
	MethodInfo catalog extended for detached MIR exec, sanitization of
	message ids, new utility function split_string().
	
	* GledView/GLTextNS.cxx:
	* GledView/GLTextNS.h:
	Clean-up original code so that it only uses gl-1.2 functionality,
	new methods for rendering text in pixel coordinates.

	* GledView/GledGUI.cxx:
	Errors now delivered to console and to the main gled window.
	
	* GledView/GledViewNS.h:
	[RD7].
	
	* GledView/user_init.cxx:
	Added OM control for ZNode custom view.
	
	* Rnr/GL/Lamp_GL_Rnr.cxx:
	Now renders a tethraedron if Lamp::bDrawLamp is true.
	
	* Rnr/GL/SphereTrings.cxx:
	* Rnr/GL/SphereTrings.h:
	Added index arrays (much faster), clean-up.
	
	* Rnr/GL/Text_GL_Rnr.cxx:
	Centering of text, clean-up.
	
	* Rnr/GL/ZGlass_GL_Rnr.cxx:
	* Rnr/GL/ZGlass_GL_Rnr.h:
	Added options bUseNameStack and bSuppressNameLabel.
	
	* Rnr/GL/ZNode_GL_Rnr.cxx:
	Added OM handling, new name-tag rendering code (using GLTextNS).
	
	* RnrBase/RnrDriver.cxx:
	* RnrBase/RnrDriver.h:
	Stuff to steer name-tag rendering, [RD7].
	
	* Stones/ZComet.cxx:
	Clearer naming for ZGlass::Rebuild* methods.
	
	* Stones/ZMIR.cxx:
	* Stones/ZMIR.h:
	Extension of MirBits to support detached MIR execution.
	
	* Stones/ZTrans.cxx:
	* Stones/ZTrans.h:
	Added interface to set/get base vectors from/to TVector3;
	new functions to perform un-scaling and Gram-Schmidt
	orthonormalization.

	* catalog.patch:
	Changes for GMutex holders and forthcoming list implementation.
	
	* glass.list:
	New glasses: ScreenDumper, ZRlNameRnrCtrl, ZRlFont; preliminary
	entries for AList, ZDeque.
		
	* Gled/GSelector.cxx:
	* Tvor/TubeTvor.h:
	* perllib/GLED_Widgets.pm:
	Minor changes / clean-ups.
	
2004-07-20  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/MTW_Layout.cxx:
	* Eye/MTW_Layout.h:
	Custom layout: improved handling of widths; added tooltips for
	narrow labels.
	
	* Eye/FTW_Nest.cxx:
	* GledView/GledViewNS.cxx:
	* GledView/GledViewNS.h:
	External (via GledViewNS) interface for adding custom layouts that
	show-up on "View/Predef Custom" menu entry in FTW_Nest. For
	examples see demos/Geom1/WS_demo.C or demos/McParticulator/test.C.

	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Added full-screen mode (bound to <f>).
	
	* Stones/ZColor.h:
	Added operator+=().
	
	* perllib/GLED_Widgets.pm:
	New weed StoneOutput. See GTS/Glasses/GTSurf for example.

	* gled.cxx:
	* saturn.cxx:
	* Gled/Gled.cxx:
	* Gled/Gled.h:
	* Gled/GledNS.cxx:
	* GledView/GledGUI.cxx:
	* GledView/GledGUI.h:
	* GledView/user_init.cxx:
	Clean-up of GledCore catalog bootstrap.

	* Eye/OptoStructs.cxx:
	* Glasses/ZGlBlending.h:
	* Glasses/ZQueen.h:
	Minor beautifications.

2004-06-07  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/MTW_View.cxx:
	Fixed a bug resulting (after some time) in a corrupt window title.

	* Eye/Pupil.cxx:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	Display of RPS now optional (PupilInfo::bShowRPS), weed formatting
	changes.
	
2004-06-06  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/Eye.cxx:
	* Eye/FTW_Branch.cxx:
	* Eye/FTW_Branch.h:
	* Eye/OptoStructs.cxx:
	* Eye/OptoStructs.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Net/Ray.cxx:
	* Net/Ray.h:
	Added new Ray quantum number Ray::RQN_list_clear.

	* Glasses/ZGlLightModel.cxx:
	* Glasses/ZGlLightModel.h:
	* Rnr/GL/ZGlLightModel_GL_Rnr.cxx:
	Fixed a type in mLightModelOp variable name.
	
2004-06-02  Matevz Tadel  <matevz.tadel@ijs.si>

	==================================================
	Check-in of major changes from 1.2.2 towards 1.2.3
	==================================================

	* Glasses/Text.cxx:
	* Glasses/Text.h:
	* GledView/GLTextNS.cxx:
	* GledView/GLTextNS.h:
	* Rnr/GL/Text_GL_Rnr.cxx:
	* Rnr/GL/Text_GL_Rnr.h:
	New files; GL text support.
	
	* Glasses/ZEunuch.cxx:
	* Glasses/ZEunuch.h:
	* Glasses/ZFireKing.cxx:
	* Glasses/ZFireKing.h:
	* Glasses/ZFireQueen.cxx:
	* Glasses/ZFireQueen.h:
	New files; place-holders for the coming re-implementation of queen
	dependency management and mirroring.
	
	* Glasses/ZGlBlending.cxx:
	* Glasses/ZGlBlending.h:
	* Glasses/ZGlLightModel.cxx:
	* Glasses/ZGlLightModel.h:
	* Glasses/ZGlMaterial.cxx:
	* Glasses/ZGlMaterial.h:
	* Glasses/ZGlStateBase.cxx:
	* Glasses/ZGlStateBase.h:
	* Rnr/GL/ZGlBlending_GL_Rnr.cxx:
	* Rnr/GL/ZGlBlending_GL_Rnr.h:
	* Rnr/GL/ZGlLightModel_GL_Rnr.cxx:
	* Rnr/GL/ZGlLightModel_GL_Rnr.h:
	* Rnr/GL/ZGlMaterial_GL_Rnr.cxx:
	* Rnr/GL/ZGlMaterial_GL_Rnr.h:
	New files; GL state modificators.

	* Stones/ZColorMark.cxx:
	* Stones/ZColorMark.h:
	New files; ZColor with a float for gradients (see Geom1::ZRibbon).

	
	* Ephra/Mountain.cxx:
	* Ephra/Mountain.h:
	* Glasses/Eventor.cxx:
	* Glasses/Eventor.h:
	Added thread cancelation support. See Eventor::Cancel() and
	Mountain::Cancel().
	
	* Ephra/Saturn.cxx:
	* Ephra/Saturn.h:
	Many improvements.
	New thread: delayed mir shooter (at given time).
	New thread: ray shooter (allows beter handling of Rays).
	Rewrite of UnfoldMIR(): proper exception handling and reporting.
	
	* Eye/Eye.cxx:
	* Eye/Eye.h:
	Support for removal of lenses.
	
	* Eye/FTW.cxx:
	* Eye/FTW.h:
	* Eye/FTW_Ant.cxx:
	* Eye/FTW_Ant.h:
	* Eye/FTW_Branch.cxx:
	* Eye/FTW_Leaf.cxx:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	* Eye/MTW_SubView.cxx:
	* Eye/MTW_SubView.h:
	* Eye/MTW_View.cxx:
	* Eye/MTW_View.h:
	Support for measuring of label widths and minor GUI improvements.
	
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	Infrastructure for picking menus, GL text support and display of
	fps.
	
	* Glasses/EyeInfo.h:
	* Glasses/ZMirEmittingEntity.h:
	New virtual member SaturnInfo* HostingSaturn().
	
	* Glasses/SaturnInfo.cxx:
	* Glasses/SaturnInfo.h:
	New methods Message() and Error() to properly report MIR failures
	(and other stuff) from executions on other Saturns.
	
	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	Reverse references, referencing control, new/cleaner locking
	mechanism.
	
	* Glasses/ZHashList.cxx:
	* Glasses/ZHashList.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Glasses/ZNameMap.cxx:
	* Glasses/ZNameMap.h:
	New referencing/unreferencing/clearing mechanisms.
	
	* Glasses/ZKing.cxx:
	* Glasses/ZKing.h:
	BlessMIR() now performs mild context checks, modifications for
	future queen management.	
	
	* Glasses/ZNode.cxx:
	* Glasses/ZNode.h:
	New locking, transition to ROOT vec/mat classes.
	
	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	Many major improvements.
	Support for delition of lenses.
	Better check-in/out implementation.
	Better ZComet handling and unpacking.
	Introduction of zero-ref-count policy.
	New member BroadcastMIRToNonRulingReflections(); simplifies
	maintainance of coherent queen-state. Methods, that need to be
	executed also on non-active reflections (dependencies, mandatory 
	status) now use this facility.
	Better ray handling and control.
	New locking.
	
	* Gled/GCondition.cxx:
	* Gled/GCondition.h:
	Member TimedWait() renamed to TimedWaitMS(), new member
	TimedWaitMus().

	* Gled/GMutex.cxx:
	* Gled/GMutex.h:
	New class GMutexHolder. Usefull for locking with automatic
	variables in view of exceptions.
	
	* Gled/GThread.cxx:
	* Gled/GThread.h:
	Moved ZMirEmittingEntity* owner from member data to TLS for proper
	access control.
	
	* Gled/GTime.cxx:
	* Gled/GTime.h:
	Added relational and equality operators.
	
	* Gled/Gled.cxx:
	* Gled/Gled.h:
	Now using TSystem::Getenv().
	
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:
	Renaming of methods stem Glass to Lens where appropriate. Addition
	of some global functions.

	* Gled/GledTypes.h:
	Addition of An_ID_Demangler virtual base and removal of index
	types for ex ZVector, ZMatrix classes.
	
	* Net/Ray.cxx:
	Beautification of debug output.
	
	* Rnr/GL/ZGlass_GL_Rnr.cxx:
	* Rnr/GL/ZGlass_GL_Rnr.h:
	Added support for automatic creation of GL display lists on per
	lens level.
	
	* RnrBase/RnrDriver.cxx:
	* RnrBase/RnrDriver.h:
	Support for a default GL font.

	* Stones/ZColor.h:
	Added to_ubyte() member.

	* Stones/ZComet.cxx:
	* Stones/ZComet.h:
	* Stones/ZMIR.cxx:
	* Stones/ZMIR.h:
	Now use An_ID_Demangler; some minor additions.

	* Stones/Z3Mark.cxx:
	* Stones/Z3Mark.h:
	* Stones/Z3Point.cxx:
	* Stones/Z3Point.h:
	* Stones/ZMark.cxx:
	* Stones/ZMark.h:
	* Stones/ZTrans.cxx:
	* Stones/ZTrans.h:
	Transition to pure ROOT vector/matrix classes.
	
	* catalog.patch: 
	* glass.list:
	Extensions with new glasses, fixes.
	
	* macros/eye.C:
	New check before opening a default pupil.
	
	* perllib/GLED_Widgets.pm:
	Extension of PhonyEnum. Now the class understands enums declared
	in glasses.

	* gled.cxx:
	* saturn.cxx:
	Added initialization of ROOT thread system.

	* FL/Fl_TransCtrl.cxx:
	* FL/Fl_TransCtrl.h:
	Fix of box-type and suppresion of widget update when new value is
	the same as the one shown.

	* Eye/OptoStructs.cxx:
	* Eye/OptoStructs.h:
	* Glasses/Box.cxx:
	* Glasses/Box.h:
	* Glasses/PerfMeterOperator.h:
	* Glasses/PerfMeterTarget.cxx:
	* Glasses/PipeEventor.cxx:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	* Glasses/Sphere.h:
	* Glasses/ZCometBag.cxx:
	* Glasses/ZIdentityFilter.h:
	* Glasses/ZIdentityListFilter.h:
	* Glasses/ZMirFilter.h:
	* Glasses/ZSunQueen.cxx:
	* Glasses/ZSunQueen.h:
	* GledView/GledGUI.cxx:
	* GledView/GledGUI.h:
	* Tvor/TubeTvor.h:
	* Rnr/GL/PupilInfo_GL_Rnr.cxx:
	* Rnr/GL/SphereTrings.cxx:
	* Rnr/GL/ZNode_GL_Rnr.cxx:
	Minor changes.

	* <all-files>:
	Extension of copyright to 2004.


2004-01-12  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW.cxx:
	* Eye/FTW.h:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Shell.h:
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	* Glasses/PupilInfo.cxx:
	* Glasses/PupilInfo.h:
	* Glasses/ZNode.cxx:
	* Glasses/ZNode.h:

	Dnd support, camera attachment. Nameboxes in Nest support dnd for
	a) pushing elements to the end of the list or b) setting links.
	Camera can be attached to an object in the scene that is connected
	to PupilInfo in question. Node that the default camera is looking
	at and the reference object for "up" direction can also be
	specified.
	
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:

	Added LibSetInfo* FindLibSetInfo(const string& lib_set).

	* GledView/GledViewNS.cxx: Bugfix in ViewSet init.

2003-12-27  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/MTW_SubView.cxx:
	* Eye/MTW_SubView.h:

	Introduced static MinLabelWidth to limit the minimal label width.

	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Glasses/ZNameMap.cxx:
	* Glasses/ZNameMap.h:
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:

	Standardization of Get/Find methods and lens callbacks.  Replaced
	ZList::Query() with a more general ZGlass::FindLensByPath(). The
	path is tokenized by GledNS::tokenize_url(). YNameChangeCB is now
	declared within the ZGlass class.

	* Gled/GledTypes.h: Extended struct LinkSpec.
	
	* Gled/Gled.cxx: Attempt at catcing exceptions from TRint::Run().

	* Makefile: Introduced double-colon rules for standard targets.

	* Glasses/ZNode.cxx:
	* Glasses/ZNode.h:
	* Stones/ZTrans.cxx:
	* Stones/ZTrans.h:
	* Rnr/GL/ZNode_GL_Rnr.cxx:

	Added scaling support into ZNode.
	
	* Glasses/ZSunQueen.cxx:
	* macros/glass_defines.h:
	* macros/moon.C:
	* macros/std_auth.C:

	Put in accordance with ZGlass::FindLensByPath().
	
	* Rnr/GL/Lamp_GL_Rnr.cxx:

	Minor changes.
	
2003-11-18  Matevz Tadel  <matevz.tadel@ijs.si>

	* gled.cxx:
	* saturn.cxx:

	Fixed initialization order. TRint is now instantiated ASAP.

2003-11-17  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW.cxx:
	* Eye/FTW.h:
	* Eye/FTW_Branch.cxx:
	* Eye/FTW_Branch.h:
	* Eye/FTW_Leaf.cxx:
	* Eye/FTW_Leaf.h:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:

	Added reporting of ZList sizes in the FTW::NameButton.
	
	* Glasses/ZGroupIdentity.cxx:
	* Glasses/ZGroupIdentity.h:
	* Glasses/ZIdentity.cxx:
	* Glasses/ZIdentity.h:

	Moved link to list of active MMEs (mActiveMMEs) from
	ZGroupIdentity to ZIdentity.
		
	* Glasses/ZSunQueen.cxx:
	* Glasses/ZSunQueen.h: Added links to Saturn & Eye guest
	identities. Changes to reflect ZIdentity change.

	* Gled/Gled.cxx:
	* Gled/Gled.h:   Improved RSA key handling and checking.
	
	* Glasses/EyeInfo.h: Added tag MEE::Self to Message() and Error().
	* Glasses/ZKing.cxx: Improved BlessMIR().
	* Glasses/ZMirEmittingEntity.cxx: Minor improvement.
	* Glasses/ZQueen.cxx: Lens instantiation consistency fix.
	* GledView/GledGUI.cxx:	Added -font command line option.
	* macros/std_auth.C: Added guest registration and set-up.


2003-11-07  Matevz Tadel  <matevz.tadel@ijs.si>

	==================================================
	Check-in of major changes from 1.2.1 towards 1.2.2
	==================================================

	1) Saturn and ZMIR
	==================
	
	Synchronous MIR execution and MIR results
	-----------------------------------------

	MIRs can now be executed synchronously and can return arbitrary
	data stream. MIRs with result request should only be sent from
	threads, as synchronous execution blocks the calling thread until
	the result (or error) is available. Also, locking an object for
	the duration of a sync MIR is a bad idea and can lead to
	deadlocks.

	Flares just wait.
	
	Beams can also request Beam Result. It is simply a TBuffer
	containing an arbitrary datagram (usually streamed ROOT
	objects). Of course, the caller must know the return data format.
	
	* Glasses/SaturnObserver.cxx:
	* Glasses/SaturnObserver.h: New glass, demo for beam-shooting.
	
	MIR shooting thread
	-------------------

	Saturn now has a bunch of methods allowing "shooting of MIRS" in
	separate threads. There is a standard thread running on the Saturn
	that routes and possibly executes the threads that were shot into
	the solar system.

	Shooting is complementary to posting where the MIR is
	routed/executed in the calling thread itself.
	
	Exec / Broadcast order
	----------------------
	
	Until now, flares were first broadcasted and only later executed.
	
	Now flares are executed first on the master Saturn (where Alpha is
	in the sun-space) and NOT broadcasted if an exception is thrown or
	ZMIR::SuppressFlareBroadcast is set to true.
	
	
	2) Authentication & Authorization infrastructure
	================================================

	This contains loads of changes. Please see documentation for
	details.
	
	* Glasses/ZFilterAggregator.cxx:
	* Glasses/ZFilterAggregator.h:
	* Glasses/ZGroupIdentity.cxx:
	* Glasses/ZGroupIdentity.h:
	* Glasses/ZIdentity.cxx:
	* Glasses/ZIdentity.h:
	* Glasses/ZIdentityFilter.cxx:
	* Glasses/ZIdentityFilter.h:
	* Glasses/ZIdentityListFilter.cxx:
	* Glasses/ZIdentityListFilter.h:
	* Glasses/ZMEESelfFilter.cxx:
	* Glasses/ZMEESelfFilter.h:
	* Glasses/ZMethodTagPreFilter.cxx:
	* Glasses/ZMethodTagPreFilter.h:
	* Glasses/ZMirEmittingEntity.cxx:
	* Glasses/ZMirEmittingEntity.h:
	* Glasses/ZMirFilter.cxx:
	* Glasses/ZMirFilter.h:
	* Gled/GKeyRSA.cxx:
	* Gled/GKeyRSA.h:
	* Stones/ZMirExchangeSession.h:
	* bin/gled-auth-genkeypair:
	* bin/gled-auth-init:
	* cfg/gled-auth.rc:
	* macros/glass_defines.h:
	* macros/std_auth.C:
	* perllib/Gled_Shell_Wrappers.pm:

	New files (authentication and authorization).
	
	* Makefile:
	* catalog.patch:
	* glass.list:

	* Ephra/Mountain.cxx:
	* Ephra/Mountain.h:
	* Ephra/Saturn.cxx:
	* Ephra/Saturn.h:
	* Eye/Eye.cxx:
	* Eye/Eye.h:

	* Glasses/EyeInfo.cxx:
	* Glasses/EyeInfo.h:
	* Glasses/SaturnInfo.cxx:
	* Glasses/SaturnInfo.h:

	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	* Glasses/ZKing.cxx:
	* Glasses/ZKing.h:
	* Glasses/ZNode.h:
	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	* Glasses/ZSunQueen.cxx:
	* Glasses/ZSunQueen.h:
	
	* Gled/GThread.cxx:
	* Gled/GThread.h:
	
	* Gled/Gled.cxx:
	* Gled/Gled.h:
	* Gled/GledMirDefs.h:
	* GledView/GledGUI.cxx:
	* GledView/GledGUI.h:

	* Stones/ZMIR.cxx:
	* Stones/ZMIR.h:
	* macros/sun.C:

	Changes due to authentication and authorization support.

	
	3) ZGlass
	=========
	
	ZGlass::mGlassBits: 
	-------------------
	
	Added a bit-field for describing state of a lens on a
	Saturn. Values described in namespace ZGlassBits.

	
	ZGlassBits::FixedName glass bit
	-------------------------------
	
	If this bit is set the name of lens can not be changed.
	
	Reference counting
	------------------
	
	Now done separately for each type of object space
	(moon/sun/fire). Inc/DecRefCount methods take ZGlass* argument
	specifying the lens that is (de)referencing the object.
		
	Name change callback
	--------------------

	SetName method has been changed to make callbacks when the name of
	a lens changes. Used by ZNameMap. Names MAY NOT contain '/'
	characters. They will be silently converted to '_'.
	
	This could in principle be solved by using Stamping mechanism.
	That would require some list on the Saturn side (ideally in the
	ZGlass itself), possibly with RayQN filter. That's how name change
	callback is implemented anyway.
	

	4) ZNameMap
	===========
	
	* Glasses/ZNameMap.cxx:
	* Glasses/ZNameMap.h:	New container base glass.

	Keeps elements sorted by their name. Registers self to each
	element of the map to receive name-change callback.  All add
	methods are overridden to the Insert() method.
	
	ZQueen now inherits from ZNameMap (ZHashList before). Therefore
	queens provide a fast directory service (e.g. Auth/Identities in
	ZSunQueen).
	
	
	5) ZList::Query
	===============

	ZList::Query(path) provides access method to retrieve lenses from
	nested lists. Example path: "Auth/Identities/foo.bar@baz.org".
	'/' is a directory separator.
	
	Could be extended to ZGlass, need semantics for links
	
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Glasses/ZHashList.cxx:
	* Glasses/ZHashList.h:	 Query() method implemented. 

	6) Gled
	=======
	
	A&A options: -authdir, -saturnid, -eyeid, -noauth.

	Currently Gled provides a service for finding of files containing
	public/private keys. This should be done otherwise ... once
	external identity/group servers are incorporated.
	
	
	7) GledNS & GledViewNS
	======================
	
	Most of glass-catalogues moved to GledNS (from GledViewNS).  This
	is needed for per method access control (implemented through
	method tags on project7/catalogue level).
	
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:
	* GledView/GledViewNS.cxx:
	* GledView/GledViewNS.h:
	
	* Eye/FTW.cxx:
	* Eye/FTW.h:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Shell.cxx:
	* Eye/FTW_Shell.h:
	* Eye/MTW_Layout.cxx:
	* Eye/MTW_Layout.h:
	* Eye/MTW_SubView.cxx:
	* Eye/MTW_SubView.h:
	* Eye/MTW_View.cxx:
	* Eye/OptoStructs.cxx:
	* Eye/OptoStructs.h:
	
	Changes related to migration of glass catalogues from GledViewNS
	to GledNS.
	
	8) Minor changes
	================
	
	* Glasses/Eventor.cxx:
	* Glasses/Eventor.h: Added bXMultix variable describing multix
	state of the running thread. Fixed SetHost() to follow new
	ref-counting scheme.
	
	* Glasses/NestInfo.h:
	* Glasses/ShellInfo.h:	Const-correctness fix.
	
	* Gled/GTime.cxx:
	* Gled/GTime.h:		TimeUntilNow() now returns GTime.
	
	* Gled/GledTypes.h:	Added default args for FID_t ctor.
	
	* gled.cxx:
	* saturn.cxx:	Common thread functions moved to class Gled.
	
	* macros/gl_defines.h:	Added protection against multiple inclusion.
	
	* perllib/GLED_Widgets.pm: All widgets now call self-update after
	sending a MIR. No locking is done!

	* Eye/Pupil.cxx:	Initialization fix.

	* Stones/ZTrans.cxx:
	* Stones/ZTrans.h:
	* RnrBase/RnrDriver.cxx:
	* Glasses/Box.h:	Beautification.
	
	
2003-09-11  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Mountain.cxx:
	* Ephra/Mountain.h:
	* Glasses/Eventor.cxx:
	* Glasses/Eventor.h:
	* Glasses/Operator.cxx:
	* Glasses/Operator.h:

	Improved timing of thread execution by using GTime.
	
	* Gled/GCondition.cxx:
	* Gled/GCondition.h:

	Fixed variable naming in TimedWait(UInt_t wait_ms) to properly
	reflect that argument is expected in miliseconds.

	* Gled/GTime.cxx:
	* Gled/GTime.h:

	New class. Time in micro-second precision.
	
	* Ephra/Saturn.cxx:
	* Ephra/Saturn.h:
	* Glasses/ZGlass.cxx:
	* Glasses/ZGlass.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:
	* Glasses/ZQueen.cxx:
	* Glasses/ZQueen.h:
	* Net/Ray.cxx:
	* Net/Ray.h:
	
	New implementation of stamping mechanism. Lenses now Stamp
	themselves via their ZQueen. Each queen can block emission of
	stamps for all hers subjects. Each lens has its own TimeStamp.
	There is no central timestamp on Saturn anymore.

	* Rnr/GL/ZGlass_GL_Rnr.cxx:
	* Rnr/GL/ZNode_GL_Rnr.cxx:

	Brought in accordance with the new stamping model.
	
	* Eye/Eye.cxx:
	* Eye/Eye.h:

	Changed Saturn socket to non-blocking mode.
	There are problems with receiving ROOT messages (Rays) in
	non-blocking mode when incoming buffer is filled-up.
	
	* Gled/GledMirDefs.h: Added #include <memory>.

	* Gled/GledTypes.h: Use ROOT types for core typedefs of Gled.
	
	* perllib/GLED_Widgets.pm: New option -seqvals for
	Widgets::PhonyEnum.  See Glasses/PerfMeterOperator.h.
	
	* Glasses/PipeEventor.h:
	* Glasses/PipeEventor.cxx:
	* Glasses/PipeEventor.h:
	* Glasses/PerfMeterTarget.cxx:
	* Glasses/PerfMeterTarget.h:
	* Glasses/PerfMeterOperator.cxx:
	* Glasses/PerfMeterOperator.h:
	* glass.list:

	New glasses.
	PipeEventor: Spawns a command via gSystem->PipeOpen() in write
	mode.
	PerfMeters: Allow timing of MIR processing infrastructure.
	
2003-07-22  Matevz Tadel  <matevz.tadel@ijs.si>

	* Ephra/Mountain.cxx:
	* Ephra/Mountain.h:
	* gled.cxx:
	* saturn.cxx:

	Changed user-thread code to be POSIX compliant (used LinuxThreads
	specifics before).

	In particular SigUSR1 and SigUSR2 are used to suspend/restart
	signal-safe threads. TRint is stopped by thread cancellation.
	
	* Gled/GledNS.cxx:
	* Gled/GledNS.h:
	* Ephra/Saturn.cxx:
	* Ephra/Saturn.h:
	* Eye/Eye.cxx:

	Restructuring of protocol for new server connections.

	Now have a static Int_t Saturn::s_Gled_Protocol_Version.  The
	connecting client now sends messages with well defined types to
	initiate server response.
	
	* Glasses/ZGlass.h: mExecMutex and mRefCountMutex are now
	mutable. Needed for const Get methods when locking is required.

	* Rnr/GL/TubeTvor_GL_Rnr.cxx:
	* Tvor/TubeTvor.cxx:
	* Tvor/TubeTvor.h:

	Added support for texture coordinates.
	
	* Gled/GSelector.h: Changed default mutex init to fast (was
	resursive) for consistency.

	* Glasses/Eventor.cxx:
	* Glasses/EyeInfo.cxx:
	* Glasses/ZNode.cxx:
	* Eye/Pupil.cxx:
	* Eye/Pupil.h:
	* GledView/GledGUI.cxx:

	Minimal code clean-up.
	
2003-07-11  Matevz Tadel  <matevz.tadel@ijs.si>

	* Eye/FTW.cxx:
	* Eye/FTW_Leaf.cxx:
	* Eye/FTW_Leaf.h:
	* Eye/FTW_Nest.cxx:
	* Eye/FTW_Nest.h:
	* Eye/MTW_Layout.cxx:
	* Eye/MTW_View.cxx:

	Added InfoBar to FTW_Nest (it displays some information about
	Leaf/Ant below mouse).
	
	Some minor additions (option to reverse order of ants,
	separator between glass groups in Creator class menu).

	Fixed some Fl_SWM related problems (ColorChooser, size of
	predefined custom views menu).

2003-07-07  Matevz Tadel  <matevz.tadel@ijs.si>

	* Glasses/ZGlass.h:
	* Glasses/ZList.cxx:
	* Glasses/ZList.h:

	Virtualized Stamping methods.

	* Gled/GMutex.h:
	* Tvor/TubeTvor.h:

	Minor changes.

2003-06-17  Matevz Tadel  <matevz.tadel@ijs.si>

	* Saturn.cxx: Fixed initialization order of variables in
	arrival_of_kings().

